[[_TOC_]]
# Задача 1

## Условие
Вариант 1
Задана следующая информация о студентах:  
• фамилия (максимум 25 символов);  
• имя (максимум 10 символов);  
• оценки по четырем предметам (массив, элементы которого имеют тип “целое
беззнаковое длиной 32 бита”).  

Написать программу, которая реализует следующие функции:
1. Упорядочивает информацию о студентах по фамилиям. При этом информация о
студентах с одинаковой фамилией должна быть упорядочена по имени. Результат
выводится на экран. Запуск программы: «app.exe st file_in» в случае текстового файла
или «app.exe sb file_in» в случае двоичного файла.
2. Выводит информацию о студентах, фамилия которых начинается с заданной
подстроки, в другой файл. Запуск программы: «app.exe ft file_in file_out substr» в случае
текстовых файлов или «app.exe fb file_in file_out substr» в случае бинарных файлов.
3. Для каждого студента вычисляет средний балл. Затем вычисляет среднее значение
среднего балла и удаляет студентов, средний балл которых меньше среднего значения.
Результат записывается в тот же файл. Запуск программы: «app.exe dt file_in_out» в
случае текстового файла или «app.exe db file_in_out» в случае двоичного файла.

## Декомпозиция
int sort_records(char *filename) - сортировка записей.    
int del_bad_students(char *filename) - удаление студентов, средний балл которых меньше обшего среднего.  
int find_records(char *filename_in, char *filename_out, char *req) - поиск записей.  
int bin_size(FILE *f) - вычисление размера бинарного файла.    
student get_rec_by_pos(FILE *f, size_t pos) - получение записи по индексу.  
void put_rec_by_pos(FILE *f, student rec, size_t pos) - запись записи по индексу.  


## Компиляция
```
$ ./make_debug.cmd

C:\msys64\home\Vlad\iu7-cprog-labs-2020-leonovvladislav\lab_52_1>gcc -std=c99 -Wall -Wpedantic -Wextra -Werror -g3 -Wfloat-equal -Wvla -c -fprofile-arcs -ftest-coverage main.c

C:\msys64\home\Vlad\iu7-cprog-labs-2020-leonovvladislav\lab_52_1>gcc -std=c99 -Wall -Wpedantic -Wextra -Werror -g3 -Wfloat-equal -Wvla -c -fprofile-arcs -ftest-coverage binfile.c

C:\msys64\home\Vlad\iu7-cprog-labs-2020-leonovvladislav\lab_52_1>gcc -o app.exe main.o binfile.o -lgcov

```


## Тестирование
### Позитивные тесты
- 01 - сортировка студентов по фамилиям;
- 02 - поиск студента;
- 03 - удаление плохих студентов;
- 04 - сортировка с одинаковыми фамилиями;

### Параметрические негативные тесты
- 01 - некорректное количество параметров;
- 02 - неизвестные параметры;
- 03 - некорректная строка поиска;


### Негативные тесты
- 01 - сортировка несуществующего файла;
- 02 - сортировка некорректного файла;
- 03 - сортировка пустого файла;
- 04 - поиск в несуществующем файле;
- 05 - поиск в некорректном файле;
- 06 - поиск в пустом файле;
- 07 - поиск без результата;
- 08 - удалить из несуществующего файла;
- 09 - удалить из некорректного файла;
- 10 - удалить из пустого файла.

### Результаты тестирования
```
$ ./make_func.cmd
Скопировано файлов:         1.
Сравнение файлов tmp.bin и POS_01_OUT.BIN
FC: различия не найдены

Сравнение файлов tmp.bin и POS_02_OUT.BIN
FC: различия не найдены

Скопировано файлов:         1.
Сравнение файлов tmp.bin и POS_03_OUT.BIN
FC: различия не найдены

Скопировано файлов:         1.
Сравнение файлов tmp.bin и POS_04_OUT.BIN
FC: различия не найдены

Сравнение файлов param_01_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов param_02_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов param_03_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_01_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_02_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_03_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_04_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_05_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_06_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_07_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_08_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_09_out.bin и OUT.TXT
FC: различия не найдены

Сравнение файлов neg_10_out.bin и OUT.TXT
FC: различия не найдены

```

### Покрытие тестами
```
$ gcov main.c binfile.c
File 'main.c'
Lines executed:100.00% of 11
Creating 'main.c.gcov'

File 'binfile.c'
Lines executed:100.00% of 92
Creating 'binfile.c.gcov'

File 'C:/msys64/mingw64/x86_64-w64-mingw32/include/stdio.h'
Lines executed:100.00% of 5
Creating 'stdio.h.gcov'
```